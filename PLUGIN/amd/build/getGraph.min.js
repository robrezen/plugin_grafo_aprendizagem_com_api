define(["jquery","core/log","mod_learninggraph/renderGraph"],function(e,r,a){let t=new class t{_requestGraphData(t,n){e.ajax({url:M.cfg.wwwroot+"/mod/learninggraph/get_graph.php",type:"GET",data:t,success(e){a.renderGraph(n,e)},error(e){r.info(e),r.error("Failed to fetch graph data for "+JSON.stringify(t))}})}getModuleGraph(e,a,t){r.debug("View graph for module "+a+" with source "+t),this._requestGraphData({courseid:e,source:t,cmid:a},"module-graph-container")}getQuestionGraph(e,a,t){r.debug("View graph for question "+t),this._requestGraphData({courseid:e,cmid:a,source:"question",questionid:t},"question-graph-container")}getStudentGraph(e,a,t){r.debug("View graph for user "+t+" in module "+a),this._requestGraphData({courseid:e,cmid:a,source:"studentgraph",userid:t},"user-graph-container")}getLessonPlanGraph(e,a){r.debug("View graph for lesson plan "+a),this._requestGraphData({courseid:e,cmid:a,source:"lessonplangraph"},"lessonplan-graph-container")}};return{getModuleGraph:t.getModuleGraph.bind(t),getQuestionGraph:t.getQuestionGraph.bind(t),getStudentGraph:t.getStudentGraph.bind(t),getLessonPlanGraph:t.getLessonPlanGraph.bind(t)}});